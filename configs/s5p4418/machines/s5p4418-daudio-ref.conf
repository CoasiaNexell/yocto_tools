#MACHINE = "s5p4418-daudio-ref"
DL_DIR = "${TOPDIR}/../downloads"
SSTATE_DIR = "${TOPDIR}/sstate-cache"
BBMASK_append = " /meta-nexell/meta-nexell-distro/recipes-multimedia/smart-voice-app "
BBMASK_append = " /meta-nexell/meta-nexell-distro/recipes-swupdate "
BBMASK_append = " /meta-nexell/meta-nexell-distro/recipes-graphics/weston "
BBMASK_append = " /poky/meta/recipes-graphics/wayland/weston "
BBMASK_append = " /poky/meta/recipes-graphics/wayland/weston-init "
BBMASK_append = " /poky/meta/recipes-graphics/wayland/weston_8.0.0.bb "
BBMASK_append = " /poky/meta/recipes-graphics/wayland/weston-init.bb "

DISTRO_FEATURES_append = " \
    nexell-daudio-ref \
	support-daudio \
	support-daudio-sdk \
	support-ffmpeg \
	support-adanis-bt \
	support-allgo-connectivity \
	support-nx-init \
	support-nx-quickrearcam \
"

PART_DATA_SIZE = "6G"
PART_DATA_NODE = "/dev/mmcblk0p4"

NEXELL_BOARD_NAME = "daudio_ref"
NEXELL_BL1_BOARD_NAME = "navi"
NEXELL_BL1_IMAGE_NAME = "navi"
NEXELL_DISPATCHER_BOARD_NAME = "NAVI"

# ------------------------------------------------------------
# Nexell Kernel Configuration
# ------------------------------------------------------------
KERNEL_DEVICETREE = "s5p4418-${NEXELL_BOARD_NAME}-rev00.dtb s5p4418-${NEXELL_BOARD_NAME}-rev01.dtb"

# ------------------------------------------------------------
# ROOTFS Size
# ------------------------------------------------------------
# $fastboot getvar capacity.mmc.0
# 7818182656 - 0x4400000 = 7746879488
# Available rootfs Size = 7565312 Kbyte
# ------------------------------------------------------------
# Reserved yocto extra space = 102400 Kbyte for pkg. install
# IMAGE_ROOTFS_EXTRA_SPACE="0 + 102400"
# ------------------------------------------------------------
# So, 7565312 - 102400 = 7462912 Kbyte
# DAUDIO 768MB, 786432 - 102400 = 684032 Kbyte
# ------------------------------------------------------------
IMAGE_ROOTFS_SIZE = "684032"

# ------------------------------------------------------------
# Nexell Etc Configuration
# ------------------------------------------------------------
# Nexell quickboot enabler
QUICKBOOT_ENABLE = "1"

# for qtbootlauncher time
BOOTTIME_LAUNCHER = "1600000"

NEXELL_USER_PARTITION_SIZE ?= "4G"
NEXELL_ROOT_PARTITION_SIZE ?= "3221225472"

UBOOT_BOOTARGS ?= "console=ttyAMA3,115200n8"
UBOOT_BOOTARGS += "root=\/dev\/mmcblk0p3 rw rootfstype=ext4"
UBOOT_BOOTARGS += "init=\/sbin\/nx_init loglevel=4 rootwait quiet printk.time=1"
UBOOT_BOOTARGS += "consoleblank=0 coherent_pool=4M systemd.log_level=info"
UBOOT_BOOTARGS += "systemd.show_status=false"
UBOOT_BOOTARGS += "nx_drm.fb_buffers=3 nx_drm.fb_pan_crtcs=0x1"
UBOOT_BOOTARGS += "nx_drm.fb_conns=1 nx_drm.fb_argb=1"
UBOOT_BOOTARGS += "nx_cam.m=-m1 nx_cam.b=-b1 nx_cam.c=-c26 nx_cam.r=-r704x480 nx_cam.L=-L1024x600 nx_cam.g=-g163 nx_cam.d=-d0 nx_cam.D=-D0,0 nx_cam.end"

# For daudio sdk
NEXELL_SDK_HEADER_FILE ?= "${BSP_ROOT_DIR}/layers/meta-nexell/meta-nexell-distro/recipes-solutions/nexell-sdk/files"